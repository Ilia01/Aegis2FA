# Database
# Connection pool settings optimized for high concurrency (stress testing with 500+ users)
# connection_limit: Max connections in the pool (adjust based on PostgreSQL max_connections)
# pool_timeout: Time to wait for available connection (in seconds)
# Local dev: postgresql://twofa_user:dev_password@localhost:5432/twofa_dev
# Production: Use Railway-provided DATABASE_URL
DATABASE_URL="postgresql://username:password@localhost:5432/twofa_db?schema=public&connection_limit=20&pool_timeout=10"

# Redis Configuration
# ==================
# Local Development (docker-compose.dev.yml):
#   REDIS_HOST=localhost
#   REDIS_PORT=6379
#   REDIS_PASSWORD=""
#   REDIS_TLS_ENABLED=false
#
# Production (Upstash):
#   REDIS_HOST=your-instance.upstash.io
#   REDIS_PORT=6379
#   REDIS_PASSWORD=your_upstash_password
#   REDIS_TLS_ENABLED=true
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_TLS_ENABLED=false

# Server
PORT=3001
NODE_ENV="development"

# JWT Secrets (generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_ACCESS_SECRET="your-secret-key"
JWT_REFRESH_SECRET="your-secret-key"
JWT_ACCESS_EXPIRY=900
JWT_REFRESH_EXPIRY=604800

# Token Secrets
TEMP_TOKEN_SECRET="your-secret-key"
DEVICE_TOKEN_SECRET="your-secret-key"

# Twilio (for SMS)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"

# Email (Nodemailer)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER="your-email@gmail.com"
EMAIL_PASSWORD="your-app-password"
EMAIL_FROM="noreply@yourdomain.com"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# OTP Settings
OTP_EXPIRY_MINUTES=5
OTP_LENGTH=6

# Frontend URL (for CORS)
FRONTEND_URL="http://localhost:3000"

# Public API URL (optional, for production deployment logs)
# Example: PUBLIC_API_URL="https://app-production.up.railway.app/api"
PUBLIC_API_URL=""
